<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>第二十二天到第二十四天：JavaScript里面的居民们</title>
    <style>
        body>div {
            margin-bottom: 20px;
        }
    </style>
</head>
<body>

<div>
    <div>
        <h2>1. 数字相关的一些操作</h2>
        <p>按照HTML中按钮的描述以此实现功能</p>
        <p>计算结果显示在 id 为 result 的 P 标签中</p>
        <p>除了第一个按钮，其它按钮操作时，都需要判断输入是否为数字，否则在 console 中输出错误信息</p>
    </div>
    <div>
        <label>Number A:<input id="radio-a" type="radio" name="math-obj" value="a"></label><input id="num-a" type="text">
        <label>Number B:<input id="radio-b" type="radio" name="math-obj" value="b"></label><input id="num-b" type="text">
    </div>
    <div class="btn-wrapper">
        <button id="a1">判断当前选中的输入框输入内容是否为数字</button>
        <button id="a2">把 A 四舍五入为 B 个小数位数的数字</button>
        <button id="a3">当前选中数字的绝对值</button>
        <button id="a4">对当前选中的数字进行上舍入</button>
        <button id="a5">对当前选中的数字进行下舍入</button>
        <button id="a6">把当前选中的数字四舍五入为最接近的整数</button>
        <button id="a7">返回 A 和 B 中的最高值</button>
        <button id="a8">返回 A 和 B 中的最低值</button>
    </div>
    <p id="result"></p>

    <script>
        let radioA = document.getElementById('radio-a');
        let radioB = document.getElementById('radio-b');
        let numA = document.getElementById('num-a');
        let numB = document.getElementById('num-b');
        let result = document.getElementById('result');
        let btnWrapper = document.getElementsByClassName('btn-wrapper');
        btnWrapper[0].addEventListener('click', function(e) {
            let event = e || window.event;
            let target = event.target || event.srcElement;
            if(target.tagName.toLowerCase() === 'button') {
                switch(target.id) {
                    case 'a1':
                        if(isNumber(numA.value) && isNumber(numB.value)) {
                            result.innerHTML = Number(numA.value) + Number(numB.value);
                        }

                        break;
                    case 'a2':
                        if(isNumber(numA.value) && isNumber(numB.value)) {
                            result.innerHTML = Number(numA.value).toFixed(Number(numB.value));
                        }
                        break;
                    case 'a3':
                        if(radioA.checked) {
                            if(isNumber(numA.value)) {
                                result.innerHTML = Math.abs(Number(numA.value));
                            }
                        }
                        if(radioB.checked) {
                            if(isNumber(numB.value)) {
                                result.innerHTML = Math.abs(Number(numB.value));
                            }
                        }
                        break;
                    case 'a4':
                        if(radioA.checked) {
                            if(isNumber(numA.value)) {
                                result.innerHTML = Math.ceil(Number(numA.value));
                            }
                        }
                        if(radioB.checked) {
                            if(isNumber(numB.value)) {
                                result.innerHTML = Math.ceil(Number(numB.value));
                            }
                        }
                        break;
                    case 'a5':
                        if(radioA.checked) {
                            if(isNumber(numA.value)) {
                                result.innerHTML = Math.floor(Number(numA.value));
                            }
                        }
                        if(radioB.checked) {
                            if(isNumber(numB.value)) {
                                result.innerHTML = Math.floor(Number(numB.value));
                            }
                        }
                        break;
                    case 'a6':
                        if(radioA.checked) {
                            if(isNumber(numA.value)) {
                                result.innerHTML = Math.round(Number(numA.value));
                            }
                        }
                        if(radioB.checked) {
                            if(isNumber(numB.value)) {
                                result.innerHTML = Math.round(Number(numB.value));
                            }
                        }
                        break;
                    case 'a7':
                        if(isNumber(numA.value) && isNumber(numB.value)) {
                            result.innerHTML = bigger(Number(numA.value), Number(numB.value));
                        }
                        break;
                    case 'a8':
                        if(isNumber(numA.value) && isNumber(numB.value)) {
                            result.innerHTML = smaller(Number(numA.value), Number(numB.value));
                        }
                        break;



                }
            }
        })
        // 判断是不是数字
        function isNumber(number) {
            if(isNaN(number) === true) {
                result.innerHTML = '不是数字';
                result.style.color = 'red';
            }else {
                return true;
            }
        }
        // 比较大小
        function bigger(a, b) {
            if(a > b) {
                return a;
            }else if(a < b) {
                return b;
            }else if(a == b) {
                return a + ', ' + b;
            }
        }
        function smaller(a, b) {
            if(a > b) {
                return b;
            }else if(a < b) {
                return a;
            }else if(a == b) {
                return a + ', ' + b;
            }
        }
    </script>
</div>

<div>
    <div>
        <h2>2. </h2>
        <p>按照HTML中按钮的描述以此实现功能</p>
        <p>计算结果显示在 id 为 result 的 P 标签中</p>
    </div>

    <div>
        <label>String A:
            <input id="radio-a2" type="radio" checked="true" name="str-obj" value="a">
        </label>
        <textarea id="str-a"></textarea>
        <label>String B:
            <input id="radio-b2" type="radio" name="str-obj" value="b">
        </label>
        <textarea id="str-b"></textarea>
        <label>Num A：<input id="num-a2" type="number" value="0"></label>
        <label>Num B：<input id="num-b2" type="number" value="1"></label>
    </div>
    <div class="btn-wrapper2">
        <button id="b1">获取当前选中输入的内容长度</button>
        <button id="b2">当前选中输入中的第3个字符</button>
        <button id="b3">把两个输入框的文字连接在一起输出（concat）</button>
        <button id="b4">输入B中的内容，在输入A的内容中第一次出现的位置（indexOf）</button>
        <button id="b5">输入A中的内容，在输入B的内容中最后一次出现的位置（lastIndexOf）</button>
        <button id="b6">使用slice获取选中输入框内容的部分内容，参数为num-a及num-b</button>
        <button id="b7">当前选中输入框的行数</button>
        <button id="b8">使用substr获取选中输入框内容的子字符串，参数为num-a及num-b</button>
        <button id="b9">把所选输入框中的内容全部转为大写</button>
        <button id="b10">把所选输入框中的内容全部转为小写</button>
        <button id="b11">把所选输入框中内容的半角空格全部去除</button>
        <button id="b12">把所选输入框中内容的a全部替换成另外一个输入框中的内容</button>
    </div>
    <p id="result2"></p>

    <script>
        let radioA2 = document.getElementById('radio-a2');
        let radioB2 = document.getElementById('radio-b2');
        let strA = document.getElementById('str-a');
        let strB = document.getElementById('str-b');
        let numA2 = document.getElementById('num-a2');
        let numB2 = document.getElementById('num-b2');
        let result2 = document.getElementById('result2');
        let btnWrapper2 = document.getElementsByClassName('btn-wrapper2');

        btnWrapper2[0].addEventListener('click', function(e) {
            let event = e || window.event;
            let target = event.target || event.srcElement;
            if(target.tagName.toLowerCase() === 'button') {
                switch(target.id) {
                    case 'b1':
                        if(radioA2.checked) {
                            if(strA.value !== '') {
                                result2.innerHTML = strA.value.length;
                            }

                        }else if(radioB2.checked) {
                            if(strB.value !== '') {
                                result2.innerHTML = strB.value.length;
                            }
                        }
                        break;
                    case 'b2':
                        if(radioA2.checked) {
                            if(strA.value !== '') {
                                result2.innerHTML = strA.value.charAt(3);
                            }

                        }else if(radioB2.checked) {
                            if(strB.value !== '') {
                                result2.innerHTML = strB.value.charAt(3);
                            }
                        }
                        break;
                    case 'b3':
                        result2.innerHTML = strA.value.concat(strB.value);
                        break;

                    case 'b9':
                        result2.innerHTML = strA.value.concat(strB.value);
                        break;

                }
            }
        })
    </script>
</div>


<script>
    /*
实现一个字符串头尾去除空格的函数
注意需要去除的空格，包括全角、半角空格
暂时不需要学习和使用正则表达式的方式
*/
    function diyTrim(str) {
        var result03 = "";

        result03 = str.trim();

        return result03
    }

    // 测试用例
    console.log(diyTrim(' a f b    ')); // ->a f b
    console.log(diyTrim('    ffdaf    ')); // ->ffdaf
    console.log(diyTrim('1    ')); // ->1
    console.log(diyTrim('　　f')); // ->f
    console.log(diyTrim('  　  a f b 　　 ')); // ->a f b
    console.log(diyTrim(' ')); // ->
    console.log(diyTrim('　')); // ->
    console.log(diyTrim('')); // ->
    console.log('++++++++++++');

    /*
    去掉字符串str中，连续重复的地方
    */
    function removeRepetition(str) {debugger
        var result04 = "";

        let len = str.length;
        for(let i = 0;i < len;i++) {
            if(str[0] === str[1]) {
                str = str.slice(1);
            }else {
                result04 += str[0];
                str = str.slice(1);
            }
        }

        return result04;
    }

    // 测试用例
    console.log(removeRepetition("aaa")); // ->a
    console.log(removeRepetition("abbba")); // ->aba
    console.log(removeRepetition("aabbaabb")); // ->abab
    console.log(removeRepetition("")); // ->
    console.log(removeRepetition("abc")); // ->abc
</script>
</body>
</html>