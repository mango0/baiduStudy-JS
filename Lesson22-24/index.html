<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>第二十二天到第二十四天：JavaScript里面的居民们</title>
    <style>
        body>div {
            margin-bottom: 20px;
        }
    </style>
</head>
<body>

<div>
    <div>
        <h2>1. 数字相关的一些操作</h2>
        <p>按照HTML中按钮的描述以此实现功能</p>
        <p>计算结果显示在 id 为 result 的 P 标签中</p>
        <p>除了第一个按钮，其它按钮操作时，都需要判断输入是否为数字，否则在 console 中输出错误信息</p>
    </div>
    <div>
        <label>Number A:<input id="radio-a" type="radio" name="math-obj" value="a"></label><input id="num-a" type="text">
        <label>Number B:<input id="radio-b" type="radio" name="math-obj" value="b"></label><input id="num-b" type="text">
    </div>
    <div class="btn-wrapper">
        <button id="a1">判断当前选中的输入框输入内容是否为数字</button>
        <button id="a2">把 A 四舍五入为 B 个小数位数的数字</button>
        <button id="a3">当前选中数字的绝对值</button>
        <button id="a4">对当前选中的数字进行上舍入</button>
        <button id="a5">对当前选中的数字进行下舍入</button>
        <button id="a6">把当前选中的数字四舍五入为最接近的整数</button>
        <button id="a7">返回 A 和 B 中的最高值</button>
        <button id="a8">返回 A 和 B 中的最低值</button>
    </div>
    <p id="result"></p>

    <script>
        let radioA = document.getElementById('radio-a');
        let radioB = document.getElementById('radio-b');
        let numA = document.getElementById('num-a');
        let numB = document.getElementById('num-b');
        let result = document.getElementById('result');
        let btnWrapper = document.getElementsByClassName('btn-wrapper');
        btnWrapper[0].addEventListener('click', function(e) {
            let event = e || window.event;
            let target = event.target || event.srcElement;
            if(target.tagName.toLowerCase() === 'button') {
                switch(target.id) {
                    case 'a1':
                        if(isNumber(numA.value) && isNumber(numB.value)) {
                            result.innerHTML = Number(numA.value) + Number(numB.value);
                        }

                        break;
                    case 'a2':
                        if(isNumber(numA.value) && isNumber(numB.value)) {
                            result.innerHTML = Number(numA.value).toFixed(Number(numB.value));
                        }
                        break;
                    case 'a3':
                        if(radioA.checked) {
                            if(isNumber(numA.value)) {
                                result.innerHTML = Math.abs(Number(numA.value));
                            }
                        }
                        if(radioB.checked) {
                            if(isNumber(numB.value)) {
                                result.innerHTML = Math.abs(Number(numB.value));
                            }
                        }
                        break;
                    case 'a4':
                        if(radioA.checked) {
                            if(isNumber(numA.value)) {
                                result.innerHTML = Math.ceil(Number(numA.value));
                            }
                        }
                        if(radioB.checked) {
                            if(isNumber(numB.value)) {
                                result.innerHTML = Math.ceil(Number(numB.value));
                            }
                        }
                        break;
                    case 'a5':
                        if(radioA.checked) {
                            if(isNumber(numA.value)) {
                                result.innerHTML = Math.floor(Number(numA.value));
                            }
                        }
                        if(radioB.checked) {
                            if(isNumber(numB.value)) {
                                result.innerHTML = Math.floor(Number(numB.value));
                            }
                        }
                        break;
                    case 'a6':
                        if(radioA.checked) {
                            if(isNumber(numA.value)) {
                                result.innerHTML = Math.round(Number(numA.value));
                            }
                        }
                        if(radioB.checked) {
                            if(isNumber(numB.value)) {
                                result.innerHTML = Math.round(Number(numB.value));
                            }
                        }
                        break;
                    case 'a7':
                        if(isNumber(numA.value) && isNumber(numB.value)) {
                            result.innerHTML = bigger(Number(numA.value), Number(numB.value));
                        }
                        break;
                    case 'a8':
                        if(isNumber(numA.value) && isNumber(numB.value)) {
                            result.innerHTML = smaller(Number(numA.value), Number(numB.value));
                        }
                        break;



                }
            }
        })
        // 判断是不是数字
        function isNumber(number) {
            if(isNaN(number) === true) {
                result.innerHTML = '不是数字';
                result.style.color = 'red';
            }else {
                return true;
            }
        }
        // 比较大小
        function bigger(a, b) {
            if(a > b) {
                return a;
            }else if(a < b) {
                return b;
            }else if(a == b) {
                return a + ', ' + b;
            }
        }
        function smaller(a, b) {
            if(a > b) {
                return b;
            }else if(a < b) {
                return a;
            }else if(a == b) {
                return a + ', ' + b;
            }
        }
    </script>
</div>

<div>
    <div>
        <h2>2. </h2>
        <p>按照HTML中按钮的描述以此实现功能</p>
        <p>计算结果显示在 id 为 result 的 P 标签中</p>
    </div>

    <div>
        <label>String A:
            <input id="radio-a2" type="radio" checked="true" name="str-obj" value="a">
        </label>
        <textarea id="str-a"></textarea>
        <label>String B:
            <input id="radio-b2" type="radio" name="str-obj" value="b">
        </label>
        <textarea id="str-b"></textarea>
        <label>Num A：<input id="num-a2" type="number" value="0"></label>
        <label>Num B：<input id="num-b2" type="number" value="1"></label>
    </div>
    <div class="btn-wrapper2">
        <button id="b1">获取当前选中输入的内容长度</button>
        <button id="b2">当前选中输入中的第3个字符</button>
        <button id="b3">把两个输入框的文字连接在一起输出（concat）</button>
        <button id="b4">输入B中的内容，在输入A的内容中第一次出现的位置（indexOf）</button>
        <button id="b5">输入A中的内容，在输入B的内容中最后一次出现的位置（lastIndexOf）</button>
        <button id="b6">使用slice获取选中输入框内容的部分内容，参数为num-a及num-b</button>
        <button id="b7">当前选中输入框的行数</button>
        <button id="b8">使用substr获取选中输入框内容的子字符串，参数为num-a及num-b</button>
        <button id="b9">把所选输入框中的内容全部转为大写</button>
        <button id="b10">把所选输入框中的内容全部转为小写</button>
        <button id="b11">把所选输入框中内容的半角空格全部去除</button>
        <button id="b12">把所选输入框中内容的a全部替换成另外一个输入框中的内容</button>
    </div>
    <p id="result2"></p>

    <script>
        let radioA2 = document.getElementById('radio-a2');
        let radioB2 = document.getElementById('radio-b2');
        let strA = document.getElementById('str-a');
        let strB = document.getElementById('str-b');
        let numA2 = document.getElementById('num-a2');
        let numB2 = document.getElementById('num-b2');
        let result2 = document.getElementById('result2');
        let btnWrapper2 = document.getElementsByClassName('btn-wrapper2');

        btnWrapper2[0].addEventListener('click', function(e) {
            let event = e || window.event;
            let target = event.target || event.srcElement;
            if(target.tagName.toLowerCase() === 'button') {
                switch(target.id) {
                    case 'b1':
                        if(radioA2.checked) {
                            if(strA.value !== '') {
                                result2.innerHTML = strA.value.length;
                            }

                        }else if(radioB2.checked) {
                            if(strB.value !== '') {
                                result2.innerHTML = strB.value.length;
                            }
                        }
                        break;
                    case 'b2':
                        if(radioA2.checked) {
                            if(strA.value !== '') {
                                result2.innerHTML = strA.value.charAt(3);
                            }

                        }else if(radioB2.checked) {
                            if(strB.value !== '') {
                                result2.innerHTML = strB.value.charAt(3);
                            }
                        }
                        break;
                    case 'b3':
                        result2.innerHTML = strA.value.concat(strB.value);
                        break;

                    case 'b9':
                        result2.innerHTML = strA.value.concat(strB.value);
                        break;

                }
            }
        })
    </script>
</div>


<div>
    <div>
        <h2>练习如何使用数组来实现队列，综合考虑使用数组的 push，pop，shift，unshift操作</h2>
        <p>实现如阅读材料中，队列的相关入队、出队、获取队头、判空的操作</p>
        <p>前四个按钮实现：队头对应数组中最后一个元素</p>
        <p>前四个按钮实现：入队和出队操作后，需要在 id 为 queue-cont 的 p 标签中更新显示队列中的内容，队头在最右侧，中间用 -> 连接（练习使用数组的join方法）</p>
        <p>-----------</p>
        <p>后四个按钮实现：队头对应数组中第一个元素</p>
        <p>后四个按钮实现：入队和出队操作后，需要在 id 为 queue-cont 的 p 标签中更新显示队列中的内容，队头在最左侧，中间用 <- 连接（练习使用数组的join方法）</p>
    </div>

    <input id="queue-input" type="text">
    <p id="queue-cont">队列内容：apple-&gt;pear</p>
    <div class="btn-wrapper02">
        <button id="in-btn">入队</button>
        <button id="out-btn">出队</button>
        <button id="font-btn">打印队头元素内容</button>
        <button id="empty-btn">判断队列是否为空</button>
        <span> / </span>
        <button id="in-btn1">入队</button>
        <button id="out-btn1">出队</button>
        <button id="font-btn1">打印队头元素内容</button>
        <button id="empty-btn1">判断队列是否为空</button>
    </div>
    <script>
        let queue = ["apple", "pear"];
        let queueInput = document.getElementById('queue-input');
        let queueCont = document.getElementById('queue-cont');
        let btnWrapper02 = document.getElementsByClassName('btn-wrapper02');
        btnWrapper02[0].addEventListener('click', function(e) {
            let event = e || window.event;
            let target = event.target || event.srcElement;
            let newText = queueInput.value;
            switch(target.id) {
                case 'in-btn':
                    if(newText === '') queueCont.innerHTML = '还没有插入数据哦';
                    else {
                        queue.unshift(newText);
                        queueCont.innerHTML = '队列内容： ' + queue.join('-&gt');
                        queueInput.value = '';
                        console.log(queue);
                    }
                    break;
                case 'out-btn':
                    queue.pop();
                    queueCont.innerHTML = '队列内容：' + queue.join('-&gt');
                    break;
                case 'font-btn':
                    console.log(queue);
                    queueCont.innerHTML =  '队头内容：' + queue[queue.length - 1];
                    break;
                case 'empty-btn':
                    if(queue.length === 0) {
                        queueCont.innerHTML = '队列内容： 空';
                    }else{
                        queueCont.innerHTML = '队列内容： 非空';
                    }
                    break;
                case 'in-btn1':
                    if(newText === '') queueCont.innerHTML = '还没有插入数据哦';
                    else {
                        queue.push(newText);
                        queueCont.innerHTML = '队列内容： ' + queue.join('&lt-');
                        queueInput.value = '';
                    }
                    break;
                case 'out-btn1':
                    queue.shift();
                    queueCont.innerHTML = '队列内容：' + queue.join('&lt-');
                    break;
                case 'font-btn1':
                    console.log(queue);
                    queueCont.innerHTML =  '队头内容：' + queue[0];
                    break;
                case 'empty-btn1':
                    if(queue.length === 0) {
                        queueCont.innerHTML = '队列内容： 空';
                    }else{
                        queueCont.innerHTML = '队列内容： 非空';
                    }
                    break;
            }
        })

    </script>
</div>

<div>
    <div>
        <h2>如何使用数组来实现栈，综合考虑使用数组的 push，pop，shift，unshift操作</h2>
        <p>实现如阅读材料中，队列的相关进栈、退栈、获取栈顶、判空的操作</p>
        <p>前四个按钮实现：栈顶对应数组中最后一个元素</p>
        <p>前四个按钮实现：进栈和退栈操作后，需要在 id 为 stack-cont 的 p 标签中更新显示栈中的内容，栈顶在最右侧，中间用 -> 连接（练习使用数组的join方法</p>
        <p>-----------</p>
        <p>后四个按钮实现：栈顶对应数组中第一个元素</p>
        <p>后四个按钮实现：进栈和退栈操作后，需要在 id 为 stack-cont 的 p 标签中更新显示栈中的内容，栈顶在最左侧，中间用 -< 连接（练习使用数组的join方法）</p>
    </div>

    <input id="stack-input" type="text">
    <p id="stack-cont">栈内容：apple-gt;pear</p>
    <div class="btn-wrapper22">
        <button id="push-btn2">进栈</button>
        <button id="pop-btn2">退栈</button>
        <button id="font-btn2">打印栈顶元素内容</button>
        <button id="empty-btn2">判断栈是否为空</button>
        <span> / </span>
        <button id="push-btn22">进栈</button>
        <button id="pop-btn22">退栈</button>
        <button id="font-btn22">打印栈顶元素内容</button>
        <button id="empty-btn22">判断栈是否为空</button>
    </div>

    <script>
        let stack = ["apple", "pear"];
        let stackInput = document.getElementById('stack-input');
        let stackCont = document.getElementById('stack-cont');
        let btnWrapper22 = document.getElementsByClassName('btn-wrapper22');
        btnWrapper22[0].addEventListener('click', function(e) {
            let event = e || window.event;
            let target = event.target || event.srcElement;
            let newText = stackInput.value;
            switch(target.id) {
                case 'push-btn2':
                    if(newText === '') stackCont.innerHTML = '还没有插入数据哦';
                    else {
                        stack.unshift(newText);
                        console.log(stack);
                        stackCont.innerHTML = '栈内容：' + stack.join('-&gt');
                        stackInput.value = '';
                    }
                    break;
                case 'pop-btn2':
                    stack.shift();
                    stackCont.innerHTML = '栈内容：' + stack.join('-&gt');
                    break;
                case 'font-btn2':
                    console.log(stack);
                    stackCont.innerHTML =  '栈头内容：' + stack[stack.length - 1];
                    break;
                case 'empty-btn2':
                    if(stack.length === 0) {
                        stackCont.innerHTML = '栈内容： 空';
                    }else{
                        stackCont.innerHTML = '栈内容： 非空';
                    }
                    break;
                case 'push-btn22':
                    if(newText === '') stackCont.innerHTML = '还没有插入数据哦';
                    else {
                        stack.push(newText);
                        console.log(stack);
                        stackCont.innerHTML = '栈内容：' + stack.join('&lt-');
                        stackInput.value = '';
                    }
                    break;
                case 'pop-btn22':
                    stack.pop();
                    stackCont.innerHTML = '栈内容：' + stack.join('&lt-');
                    break;
                case 'font-btn22':
                    console.log(stack);
                    stackCont.innerHTML =  '栈头内容：' + stack[0];
                    break;
                case 'empty-btn22':
                    if(stack.length === 0) {
                        stackCont.innerHTML = '栈内容： 空';
                    }else{
                        stackCont.innerHTML = '栈内容： 非空';
                    }
                    break;
            }
        })
    </script>
</div>

<script>
    /*
实现一个字符串头尾去除空格的函数
注意需要去除的空格，包括全角、半角空格
暂时不需要学习和使用正则表达式的方式
*/
    function diyTrim(str) {
        var result03 = "";

        result03 = str.trim();

        return result03
    }

    // 测试用例
    console.log('+++++ 去除空格 +++++++');
    console.log(' a f b    : ' + diyTrim(' a f b    ')); // ->a f b
    console.log('    ffdaf    : ' + diyTrim('    ffdaf    ')); // ->ffdaf
    console.log('1    : ' + diyTrim('1    ')); // ->1
    console.log('　　f: ' + diyTrim('　　f')); // ->f
    console.log('  　  a f b 　　 : ' + diyTrim('  　  a f b 　　 ')); // ->a f b
    console.log(' : ' + diyTrim(' ')); // ->
    console.log('　: ' + diyTrim('　')); // ->
    console.log('\'\': ' + diyTrim('')); // ->

    /*
    去掉字符串str中，连续重复的地方
    */
    function removeRepetition(str) {
        let result04 = '';
        let len = str.length;
        for(let i = 0;i < len;i++) {
            if(str[0] === str[1]) {
                str = str.slice(1);
            }else {
                result04 += str[0];
                str = str.slice(1);
            }
        }
        return result04;
    }

    // 测试用例
    console.log('+++++ 去掉字符串str中，连续重复的地方 +++++++');
    console.log('aaa: ' + removeRepetition("aaa")); // ->a
    console.log('abbba: ' + removeRepetition("abbba")); // ->aba
    console.log('aabbaabb: ' + removeRepetition("aabbaabb")); // ->abab
    console.log('\'\': ' + removeRepetition("")); // ->
    console.log('abc: ' + removeRepetition("abc")); // ->abc


    var tree = {
        "id": 0,
        "name": "root",
        "left": {
            "id": 1,
            "name": "Simon",
            "left": {
                "id": 3,
                "name": "Carl",
                "left": {
                    "id": 7,
                    "name": "Lee",
                    "left": {
                        "id": 11,
                        "name": "Fate"
                    }
                },
                "right": {
                    "id": 8,
                    "name": "Annie",
                    "left": {
                        "id": 12,
                        "name": "Saber"
                    }
                }
            },
            "right": {
                "id": 4,
                "name": "Tony",
                "left": {
                    "id": 9,
                    "name": "Candy"
                }
            }
        },
        "right": {
            "id": 2,
            "name": "right",
            "left": {
                "id": 5,
                "name": "Carl",
            },
            "right": {
                "id": 6,
                "name": "Carl",
                "right": {
                    "id": 10,
                    "name": "Kai"
                }
            }
        }
    }

    // 假设id和name均不会重复，根据输入name找到对应的id
    console.log('假设id和name均不会重复，根据输入name找到对应的id');
    findIdByName('Carl');
    function findIdByName(name) {
        function getName(obj) {
            if(obj) {
                if(obj.name === name) {
                    console.log('id: ' + obj.id);
                }
                getName(obj.left);
                getName(obj.right);
            }
        }
        getName(tree);
    }

    // 假设id和name均不会重复，根据输入id找到对应的name
    console.log('假设id和name均不会重复，根据输入id找到对应的name');
    findNameById(4);
    function findNameById(id) {
        function getId(obj) {
            if(obj) {
                if(obj.id === id) {
                    console.log('name: ' + obj.name);
                }
                getId(obj.left);
                getId(obj.right);
            }
        }
        getId(tree);
    }

    // 把这个对象中所有的名字以“前序遍历”的方式全部输出到console中
    console.log('把这个对象中所有的名字以“前序遍历”的方式全部输出到console中');
    getListWithDLR();
    function getListWithDLR() {
        let result = [];
        function ergodic(obj) {
            if(obj) {
                result.push(obj.name);
                ergodic(obj.left);
                ergodic(obj.right);
            }
        }
        ergodic(tree);
        console.log(result);
    }

    // 把这个对象中所有的名字以“中序遍历”的方式全部输出到console中
    console.log('把这个对象中所有的名字以“中序遍历”的方式全部输出到console中');
    getListWithLDR();
    function getListWithLDR() {
        let result = [];
        function ergodic(obj) {
            if(obj) {
                ergodic(obj.left);
                result.push(obj.name);
                ergodic(obj.right);
            }
        }
        ergodic(tree);
        console.log(result);
    }

    // 把这个对象中所有的名字以“后序遍历”的方式全部输出到console中
    console.log('把这个对象中所有的名字以“后序遍历”的方式全部输出到console中');
    getListWithLRD();
    function getListWithLRD() {
        let result = [];
        function ergodic(obj) {
            if(obj) {
                ergodic(obj.left);
                ergodic(obj.right);
                result.push(obj.name);
            }
        }
        ergodic(tree);
        console.log(result);
    }
</script>
</body>
</html>